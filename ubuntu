#!/bin/bash
set -ux -o pipefail 

bm=0
#Ubuntu
sudo apt-get update
sudo apt-get upgrade

sudo apt-get -y install compizconfig-settings-manager unity-tweak-tool gnome-tweak-tool
[ ${bm:-0} -eq 1 ] && sudo apt-get install  linux-firmware-nonfree

#14.04
wget -q -O – https://fixubuntu.com/fixubuntu.sh | bash
gsettings set com.canonical.Unity.Lenses remote-content-search ‘none’
sudo apt-get -y remove unity-lens-shopping
gsettings set com.canonical.Unity.Lenses disabled-scopes "['more_suggestions-amazon.scope', 'more_suggestions-u1ms.scope', 'more_suggestions-populartracks.scope', 'music-musicstore.scope', 'more_suggestions-ebay.scope', 'more_suggestions-ubuntushop.scope', 'more_suggestions-skimlinks.scope']"
#sudo apt-get install flashplugin-installer

#Video cards - Nvidea
sudo apt-get -y install nvidia-current

#App armor
sudo invoke-rc.d apparmor stop
sudo update-rc.d -f apparmor remove

#System utils
sudo apt-get -y install htop zip unzip sysstat screen 
[ ${bm:-0} -eq 1 ] && xfsprogs mdadm numactl

#Virtualbox
sudo sh -c "echo 'deb http://download.virtualbox.org/virtualbox/debian '$(lsb_release -cs)' contrib non-free' > /etc/apt/sources.list.d/virtualbox.list"
wget -q http://download.virtualbox.org/virtualbox/debian/oracle_vbox.asc -O- | sudo apt-key add -
#No Machine Enterprise client
#https://www.nomachine.com/download/download&id=19 - not automated

#Java
sudo add-apt-repository -y ppa:webupd8team/java

#Chrome
wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add - 
sudo sh -c 'echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google.list'

#### Apps ####
sudo apt-get update 
sudo apt-get install -y google-chrome-stable oracle-java8-installer meld git
[ ${bm:-0} -eq 1 ] && sudo apt-get install virtualbox-5.1

sudo apt-get -y -f install && sudo apt-get -y autoremove && sudo apt-get -y autoclean && sudo apt-get -y clean

wget -O - http://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -
sudo apt-add-repository "deb http://apt.llvm.org/xenial/ llvm-toolchain-xenial-3.9 main"
sudo apt-get update

#16.04 Python 3.6 - python3.6 & pip3.6
sudo add-apt-repository -y ppa:jonathonf/python-3.6
sudo apt update
sudo apt -y install python3.6 python3.6-dev python3.6-venv
wget https://bootstrap.pypa.io/get-pip.py
sudo python3.6 get-pip.py

exit

All notes past this point

# Author.: Ole J
# Date...: 23.03.2008
# License: Whatever

# Wraps a completion function
# make-completion-wrapper <actual completion function> <name of new func.>
#                         <command name> <list supplied arguments>
# eg.
# 	alias agi='apt-get install'
# 	make-completion-wrapper _apt_get _apt_get_install apt-get install
# defines a function called _apt_get_install (that's $2) that will complete
# the 'agi' alias. (complete -F _apt_get_install agi)
#
function make-completion-wrapper () {
	local function_name="$2"
	local arg_count=$(($#-3))
	local comp_function_name="$1"
	shift 2
	local function="
function $function_name {
	((COMP_CWORD+=$arg_count))
	COMP_WORDS=( "$@" \${COMP_WORDS[@]:1} )
	"$comp_function_name"
	return 0
}"
	eval "$function"
	echo $function_name
	echo "$function"
}

