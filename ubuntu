#!/bin/bash
set -ux -o pipefail 

# oracle download java page: https://www.oracle.com/java/technologies/javase-jdk16-downloads.html

bm=0
#Ubuntu
sudo apt update
sudo apt upgrade -y
apt dist-upgrade
sudo apt autoremove

#Chrome
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb -P /tmp
sudo sudo apt install /tmp/google-chrome-stable_current_amd64.deb

sudo apt install -y wireguard vim htop zip unzip sysstat screen openvpn nfs-common git tig meld chrome-gnome-shell \
default-jdk python2 gnome-tweaks dconf-editor sshfs pigz python3-venv

gsettings set org.gnome.shell.extensions.dash-to-dock isolate-workspaces true
gsettings set org.gnome.shell.extensions.dash-to-dock isolate-monitors true
gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-left "['<Primary><Shift><Alt>Left']"
gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-right "['<Primary><Shift><Alt>Right']"
gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-up "['<Primary><Shift><Alt>Up']"
gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-down "['<Primary><Shift><Alt>Down']"
#gsettings list-recursively org.gnome.desktop.wm.keybindings

#Firefox - the snap just stopped working
sudo snap remove firefox
sudo add-apt-repository ppa:mozillateam/ppa
echo '
Package: *
Pin: release o=LP-PPA-mozillateam
Pin-Priority: 1001
' | sudo tee /etc/apt/preferences.d/mozilla-firefox
echo 'Unattended-Upgrade::Allowed-Origins:: "LP-PPA-mozillateam:${distro_codename}";' | sudo tee /etc/apt/apt.conf.d/51unattended-upgrades-firefox
sudo apt install firefox -y

mkdir ~/.local/bin
echo '
swapfile=/swapfile
truncate -s 0 ${swapfile}
chattr +C ${swapfile}
fallocate -l 2G ${swapfile}
chmod 0600 ${swapfile}
mkswap ${swapfile}
swapon ${swapfile}
' | sudo tee ~/.local/bin/reset-swap


[ ${bm:-0} -eq 1 ] || exit 0

#System utils
sudo apt install -y numactl numad virt-manager
virsh net-autostart default
# xfsprogs mdadm lvm2 virtualbox

exit 0

https://www.sophos.com/en-us/products/free-tools/sophos-antivirus-for-linux.aspx
https://extensions.gnome.org/extension/1485/workspace-matrix/

Remina: 
https://kbdlayout.info/kbdusx/virtualkeys
Preferences->RDP
0x3a=0x1D,0x1D=0x3a
